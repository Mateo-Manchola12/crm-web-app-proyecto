---
import type { Tier } from '@data/pricing'
import { Icon } from 'astro-icon/components'
interface Props extends Tier {}

const { name, price, description, features, recommended } = Astro.props
---

<article
    class="ring-primary shadow-primary md:min-w-2xs to-on-primary relative mt-10 flex min-w-[80vw] max-w-80 flex-col rounded-2xl bg-gradient-to-b to-10% p-8 ring-1 sm:min-w-[50vw]"
    class:list={recommended
        ? "before:from-primary before:h-15 before:text-on-primary from-purple-500/20 shadow-xl before:absolute before:-top-10 before:left-0 before:right-0 before:-z-10 before:inline-flex before:items-center before:justify-center before:rounded-t-2xl before:bg-gradient-to-b before:pb-5 before:text-base before:font-bold before:content-['DESTACADO']"
        : 'from-purple-500/20 shadow-md'}
>
    <h3 class="text-shadow-lg text-3xl">
        <strong class="text-primary/80 text-shadow-primary/60 text-shadow-md inline-block w-full"
            >VioletFlow</strong
        >
        {name}
    </h3>
    <p class="my-2">{description}</p>
    <span class="text-shadow-md text-right text-2xl font-extrabold"
        >{price.toFixed(2)} <span class="text-sm font-medium text-gray-600/80">&euro;/mes</span>
    </span>

    <ul class="border-t-primary/40 mb-5 mt-5 border-t-2 pt-5">
        {
            features.map((feature) => (
                <li class="mt-4">
                    <Icon name="ic:round-check" class:list="inline text-primary text-2xl" />{' '}
                    {feature}
                </li>
            ))
        }
    </ul>
    <a
        href={`/pricing/${name}`}
        class="shadow-primary/40 mt-auto inline-block w-full rounded-2xl border-2 bg-gradient-to-br py-1 text-center text-xl shadow-md transition-all"
        class:list={recommended
            ? 'from-primary to-primary/70 text-on-primary border-primary'
            : 'from-primary/20 to-secondary/20 border-primary text-primary'}>Elegir plan</a
    >
</article>
